<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/bootstrap.css">
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.js"></script>

    <style>
        .my-custom-scrollbar {
            position: relative;
            height: 600px;
            overflow: auto;
        }

        .table-wrapper-scroll-y {
            display: block;
        }

        .img-txt-container {
            position: relative;
            text-align: center;
            color: white;
            display: inline-block;
        }

        .img-txt-centered {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bolder;
            color: rgb(0, 0, 0);
            text-shadow: -1px 0 rgb(255, 255, 255), 0 1px rgb(255, 255, 255), 1px 0 rgb(255, 255, 255), 0 -1px rgb(255, 253, 253);
        }

        body {
            color: #dff3ff;
            background-color: #525252;
        }


        /* width */
        ::-webkit-scrollbar {
            width: 10px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            background: #424242;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #dff3ff;
        }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: #f4fbff;
        }
    </style>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-79653090-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-79653090-2');
    </script>

</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">AFS Utils</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">AFK Calc</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="indev.html">AFK indev</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link " href="afsdmg.html">Damage Calc</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container-fluid" style="margin-top: 25px;">
        <div class="row justify-content-md-center">
            <img src="images/afs-logo.png" width="300px"> <img src="images/acc-dmg-logo.png"
                style=" width:100%; max-width: 926px;">
            &nbsp;&nbsp;&nbsp;&nbsp; by
            d_four
        </div>
        <hr>
        <div class="row justify-content-center">
            <div class="col-sm-4">
                <!-- Input area-->
                <div class="card" style="min-height:175px">
                    <div class="card-body">
                        <h5 class="card-title">Fighter</h5>
                        <p class="card-text">Choose a Fighter to get Damage</p>
                        <div class="text-center">
                            <h5 id="spyfighter">Name</h5>
                        </div>
                        <div class="row justify-content-md-center costspy">
                            <div class="col-4">Base Damage: <span id="spyfdmg">---</span></div>
                            <div class="col-4">Shiny Damage: <span id="spyfsdmg">---</span></div>
                        </div>
                    </div>
                </div>

                <div style="height: 10px;">&nbsp;</div>
                <div>
                    <div class="text-center fighterbar">
                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="820"
                            data-dmg="820" data-dmgs="1400" data-fighter="Dragon-King">
                            <img src="images/kaido.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>
                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="700"
                            data-dmg="700" data-dmgs="1200" data-fighter="True Golden King">
                            <img src="images/gilly.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>

                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="4"
                            data-dmg="4" data-dmgs="4" data-fighter="Flaming Hero - (need data)">
                            <img src="images/end.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>

                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="530"
                            data-dmg="530" data-dmgs="930" data-fighter="Holiday Baby">
                            <img src="images/pad.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>


                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="3"
                            data-dmg="3" data-dmgs="3" data-fighter="Femto - (need data)">
                            <img src="images/fem.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>


                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="440"
                            data-dmg="440" data-dmgs="770" data-fighter="Engineered Alien">
                            <img src="images/mew2.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>

                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="340"
                            data-dmg="340" data-dmgs="600" data-fighter="Hernando">
                            <img src="images/herny.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>

                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="2"
                            data-dmg="2" data-dmgs="2" data-fighter="Great Ninja -(need data)">
                            <img src="images/mad.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>

                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="1"
                            data-dmg="1" data-dmgs="1" data-fighter="Vegtable -(need data)">
                            <img src="images/vegan.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>

                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="510"
                            data-dmg="510" data-dmgs="900" data-fighter="Father Killer">
                            <img src="images/fatkill.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>

                        <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top" title="510"
                            data-dmg="490" data-dmgs="860" data-fighter="Yuka (Shadow)">
                            <img src="images/yukas.png" width="128px">
                            <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                src="images/greensqur.png" width="128px">
                        </div>


                    </div>
                </div>
            </div>

            <div class="col-sm-4">
                <!-- Passive Area -->
                <div class="card" style="min-height:175px">
                    <div class="card-body">
                        <h5 class="card-title">Passives</h5>
                        <p class="card-text">Choose Passives</p>
                        <div class="text-center">
                            <h5 id="spypass1">Passive</h5>
                        </div>
                        <div class="row justify-content-md-center costspy">

                            <div class="col-3">Dmg : <span id="spypassdmg1">---</span></div>
                            <div class="col-3">Boss Dmg: <span id="spypassdmgs1">---</span></div>

                            <div class="col-3">Dmg: <span id="spypassdmg2">---</span></div>
                            <div class="col-3">Boss Dmg: <span id="spypassdmgs2">---</span></div>

                        </div>
                    </div>
                </div>
                <div style="height: 10px;">&nbsp;</div>
                <div class="row">
                    <div class="col-sm-6">
                        <div class="text-center pass1bar">
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="No Passive" data-dmg="1" data-dmgs="1" data-passname="No Passive"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/nopass.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Monster" data-dmg="3" data-dmgs="3" data-passname="Monster"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/monster.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="God" data-dmg="2" data-dmgs="2" data-passname="God" style="margin-bottom: 5px;">
                                <img class="rounded" src="images/god.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Blessing" data-dmg="1.75" data-dmgs="1.75" data-passname="Blessing"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/bless.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>

                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Ghostly" data-dmg="1.5" data-dmgs="1.5" data-passname="Ghostly"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/ghost.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Solid Gold" data-dmg="1.75" data-dmgs="1.75" data-passname="Solid Gold"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/solid.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Sorcerer 3" data-dmg="1.2" data-dmgs="1.2" data-passname="Sorcerer 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/hp3.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Giant" data-dmg="1.65" data-dmgs="1.65" data-passname="Giant"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/giant.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Tank" data-dmg="1.65" data-dmgs="1.65" data-passname="Tank"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/tank.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Tactical 3" data-dmg="1" data-dmgs="2" data-passname="Tactical 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/tac3.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Tiny" data-dmg="1.2" data-dmgs="1.2" data-passname="Tiny"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/tiny.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Tactical 2" data-dmg="1" data-dmgs="1.5" data-passname="Tactical 2"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/tac2.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Strong 3" data-dmg="1.5" data-dmgs="1.5" data-passname="Strong 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/strong3.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Strong 2" data-dmg="1.25" data-dmgs="1.25" data-passname="Strong 2"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/strong2.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                        </div>
                    </div>
                    <div class="col-sm-6">
                        <div class="text-center pass2bar">
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="No Passive" data-dmg="1" data-dmgs="1" data-passname="No Passive"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/nopass.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Monster" data-dmg="3" data-dmgs="3" data-passname="Monster"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/monster.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="God" data-dmg="2" data-dmgs="2" data-passname="God" style="margin-bottom: 5px;">
                                <img class="rounded" src="images/god.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Blessing" data-dmg="1.75" data-dmgs="1.75" data-passname="Blessing"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/bless.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>

                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Ghostly" data-dmg="1.5" data-dmgs="1.5" data-passname="Ghostly"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/ghost.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Solid Gold" data-dmg="1.75" data-dmgs="1.75" data-passname="Solid Gold"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/solid.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Sorcerer 3" data-dmg="1.2" data-dmgs="1.2" data-passname="Sorcerer 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/hp3.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Giant" data-dmg="1.65" data-dmgs="1.65" data-passname="Giant"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/giant.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Tank" data-dmg="1.65" data-dmgs="1.65" data-passname="Tank"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/tank.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Tactical 3" data-dmg="1" data-dmgs="2" data-passname="Tactical 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/tac3.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Tiny" data-dmg="1.2" data-dmgs="1.2" data-passname="Tiny"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/tiny.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Tactical 2" data-dmg="1" data-dmgs="1.5" data-passname="Tactical 2"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/tac2.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Strong 3" data-dmg="1.5" data-dmgs="1.5" data-passname="Strong 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/strong3.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Strong 2" data-dmg="1.25" data-dmgs="1.25" data-passname="Strong 2"
                                style="margin-bottom: 5px;">
                                <img class="rounded" src="images/strong2.png" width="75px">
                                <img class="clh worldsel" style="position:absolute;left: 0;top: 0; display: none;"
                                    src="images/greensqur.png" width="75px">
                            </div>
                        </div>
                    </div>
                </div>




            </div>


            <div class="col-sm-4">
                <!-- Result Area -->
                <div class="card" style="min-height:175px">
                    <div class="card-body">
                        <h5 class="card-title">Level</h5>
                        <p class="card-text">Choose the level to view</p>
                    </div>
                </div>
                <div style="height: 10px;">&nbsp;</div>

                <!-- Shiney or no-->
                <!-- Fuse or Sell Selector -->
                <div data-toggle="tooltip" data-placement="top" title="Shiny or not" class="input-group  mb-3">
                    <button class="btn btn-outline-info" type="button"
                        onclick="$('#shinystate').val('Normal');//getDamageWithPassives()">Normal</button>
                    <input type="text" class="form-control" id="shinystate" value="Shiny">
                    <button class="btn btn-outline-info" type="button"
                        onclick="$('#shinystate').val('Shiny');//getDamageWithPassives()">Shiny</button>
                </div>

                <!-- Level -->
                <div class="input-group  mb-3" data-toggle="tooltip" data-placement="top"
                    title="The level you want to check the value for.">
                    <div class="input-group-prepend">
                        <span class="input-group-text  bg-info text-white" style="width: 175px;">Level</span>
                    </div>
                    <button class="btn btn-outline-info lvlbtnmin" type="button">&minus;</button>
                    <input type="text" class="form-control" id="inplevel" value="315">
                    <button class="btn btn-outline-info lvlbtnplus" type="button">&plus;</button>
                </div>

                <!-- Base Damage Talent-->
                <div class="input-group  mb-3" data-toggle="tooltip" data-placement="top"
                    title="Base Damage Talent. Limitless cap 20, non limitless cap 10!">
                    <div class="input-group-prepend">
                        <span class="input-group-text  bg-info text-white" style="width: 175px;">Base Damage
                            Talent</span>
                    </div>
                    <button class="btn btn-outline-info talbtnmin" type="button">&minus;</button>
                    <input type="text" class="form-control" id="inptalent" value="20">
                    <div class="input-group-append">
                        <span class="input-group-text" id="talmod">90%</span>
                    </div>
                    <button class="btn btn-outline-info talbtnplus" type="button">&plus;</button>
                </div>



                <div>
                    <h2 id="resultArea">Results shown here</h2>
                    <h2 id="resultArea2">Results shown here</h2>
                </div>
            </div>

        </div>
        <div class="row">
            <!-- Bot Bar -->

            Values shown are just estimates as damage shown in AFS is a rounded value.
        </div>
        <div class="row">
            <span class="small">Version 0.1 (Beta) - Updated 09.06.2022 </span>
        </div>
        <div class="row">
            <a href="https://github.com/dfour/afsafk">Source Code</a>
        </div>
        <div class="row">
            <div class="col-1">&nbsp;</div>
        </div>
        <div class="row">
            &there4; &nbsp; &sup;_&fnof;&deg;&micro;&and;
        </div>
    </div>

    <script>
        /** 
        *  v0.1
        *  initial testing, style etc
        **/
        // Control and calculate results here

        // hard vars
        dmgMulPerLvl = 1.11611 // based off testing in excel (yes, I still use excel)
        talentMulti = 1.9; // default value of max talents


        function getDmgForLevel(baseDMG, level, shiny) {

            if (shiny) {
                baseDMG *= 1.75
            }

            powlvl = Math.pow(dmgMulPerLvl, (level - 1))
            return powlvl * baseDMG
        }

        // stats 10 = + 30% ||| 20 = + 90%
        /**
         * 1 = -24%
         * 2 = -18%
         * -12
         * -6
         * 0
         * 6
         * 12
         * 18
         * 24
         * 30
         *
         *
         *
         **/


        defaultOpenPerHour = 592.1   // how many opens an be done in an hour
        defaultMaxOpensPerHour = 40 // how many max opens can be done in a hour
        defaultSellRate = 0.25      // value returned for sell (avg)
        timeEventMod = 1            // stores modifier for time event
        timeLordsMod = 0            // for time lord multiplier
        maxOpenPass = 2             // max open pass (1 for normal, 2 for own)
        modLetters = " KMBTQEZYXWVU"  // modifiers for currency
        wname = ""
        // useful functions



        // convert cost to 3 digit value and set modifier
        function convertToFormatted(value, mod) {
            cmodpos = modLetters.indexOf(mod.toUpperCase())
            while (Math.ceil(Math.log10(value + 1)) > 3) {
                cmodpos += 1 // move to next modifier
                value = value * 0.001// divide val by 1000 to mve 3 places down
            }

            return parseFloat(value.toFixed(2)) + modLetters[cmodpos]
            //return value.toPrecision(3) + modLetters[cmodpos];
        }


        // respond to Clicks
        $("body").click(function (e) {
            //cost = $("#inpcost").val()
            //mod = $("#inpmod").val()
            //mcost = $("#inpMaxcost").val()
            //mmod = $("#maxmod").val()
            //openCount = parseInt($("#stoCount").val())
            //invSpace = $("#invSpace").val()
            //fuseSell = $("#staruse").val() == "Fuse" ? 1 : 2  // 1 = fuse | 2 = Sell
            //gPass = $("#inputGroupSelect02").val()      // 1 = None | 2 = Owned
            //fiftyk = $("#inputGroupSelect03").val()     // 1 = None | 2 = Owned
            //doMax = $("#inputGroupSelect04").val()      // 1 = Yes  | 2 = No
            //vip = $("#inputGroupSelect05").val()        // 1 = No   | 2 = Yes
            //timeLordsMod = parseInt($("#tlcount").val()) * 0.25

            //res = getCostOfHourOpens(cost, openCount, gPass, fiftyk, fuseSell, vip)
            //totOpens = getHourOpens(openCount, gPass, fiftyk)
            //mres = 0
            //if (doMax == 1) {
            //    res += getCostOfHourMaxOpen(cost, invSpace, fuseSell)
            //    totOpens += getHourMaxOpen(invSpace)
            //    mres = getOneHourMaxToken(mcost)
            //}


            //$("#tableres").html(getTableResult(wname, res, mres, mod, mmod, totOpens))

            getDamageWithPassives()

        });


        function getDamageWithPassives() {
            reslvl = $("#inplevel").val()
            shinystate = $("#shinystate").val() == "Shiny"
            plainDamage = getDmgForLevel(clickedDmg, reslvl, shinystate)

            plainDamage = plainDamage * talentMulti // max stats (not done here)

            p1dmg = (plainDamage * clickedpass1dmg) - plainDamage
            p2dmg = (plainDamage * clickedpass2dmg) - plainDamage
            totalDamage = plainDamage + p1dmg + p2dmg

            //totalDamage = totalDamage * 1.9 // maybe here

            $("#resultArea").html(convertToFormatted(totalDamage, "") + " vs All")

            p1bdmg = (plainDamage * clickedpass1dmgs) - plainDamage
            p2bdmg = (plainDamage * clickedpass2dmgs) - plainDamage
            totalbDamage = plainDamage + p1bdmg + p2bdmg


            $("#resultArea2").html(convertToFormatted(totalbDamage, "") + " vs Boss")

        }


        /////////////////////////// Fighter stuff /////////////////////
        clickedFighter = ""
        clickedDmg = ""
        clickedDmgs = ""

        $(".imgFighter").hover(function () {
            fighter = $(this).data("fighter")
            dmg = $(this).data("dmg")
            dmgs = $(this).data("dmgs")
            $("#spyfighter").html(fighter)
            $("#spyfdmg").html(dmg)
            $("#spyfsdmg").html(dmgs)
        });

        $(".imgFighter").mouseleave(function () {
            $("#spyfighter").html(clickedFighter)
            $("#spyfdmg").html(clickedDmg)
            $("#spyfsdmg").html(clickedDmgs)
        });

        $(".imgFighter").click(function () {
            turnOffAllFighterSelectHighlights($(this))
            clickedFighter = $(this).data("fighter")
            clickedDmg = $(this).data("dmg")
            clickedDmgs = $(this).data("dmgs")
            $(this).find(".clh").toggle()
        });

        //////////////////// Passive stuff ////////////////////////////

        clickedpass1 = "No Passive"
        clickedpass1dmg = "1"
        clickedpass1dmgs = "1"

        clickedpass2 = "No Passive"
        clickedpass2dmg = "1"
        clickedpass2dmgs = "1"

        // passive 1
        $(".imgselpass1").hover(function () {
            p1name = $(this).data("passname")
            p1dmg = $(this).data("dmg")
            p1dmgs = $(this).data("dmgs")
            $("#spypass1").html(p1name + " &amp; " + clickedpass2)
            $("#spypassdmg1").html(p1dmg + "x")
            $("#spypassdmgs1").html(p1dmgs + "x")
        });

        $(".imgselpass1").mouseleave(function () {
            $("#spypass1").html(clickedpass1 + " &amp; " + clickedpass2)
            $("#spypassdmg1").html(clickedpass1dmg)
            $("#spypassdmgs1").html(clickedpass1dmgs)
        });

        $(".imgselpass1").click(function () {
            turnOffAllPass1SelectHighlights($(this))
            clickedpass1 = $(this).data("passname")
            clickedpass1dmg = $(this).data("dmg")
            clickedpass1dmgs = $(this).data("dmgs")
            $(this).find(".clh").toggle()
            //getDamageWithPassives()
        });

        // passive 2
        $(".imgselpass2").hover(function () {
            p2name = $(this).data("passname")
            p2dmg = $(this).data("dmg")
            p2dmgs = $(this).data("dmgs")
            $("#spypass1").html(clickedpass1 + " &amp; " + p2name)
            $("#spypassdmg2").html(p2dmg + "x")
            $("#spypassdmgs2").html(p2dmgs + "x")
        });

        $(".imgselpass2").mouseleave(function () {
            $("#spypass1").html(clickedpass1 + " &amp; " + clickedpass2)
            $("#spypassdmg2").html(clickedpass2dmg)
            $("#spypassdmgs2").html(clickedpass2dmgs)
        });

        $(".imgselpass2").click(function () {
            turnOffAllPass2SelectHighlights($(this))
            clickedpass2 = $(this).data("passname")
            clickedpass2dmg = $(this).data("dmg")
            clickedpass2dmgs = $(this).data("dmgs")
            $(this).find(".clh").toggle()
            //getDamageWithPassives()
        });





        $(".trworld").click(function () {
            ffs = $(this)
            costtd = ffs.find("td.costtd").html()
            costMaxtd = ffs.find("td.costMaxtd").html()
            wname = ffs.find("td.worldName").html()
            $("#info").html(wname)
            populateCost(costtd, costMaxtd)
        });



        $("#shinystate").change(function () {
            //getDamageWithPassives()
        })

        // level buttons
        $("#inplevel").change(function () {
            //getDamageWithPassives()
        })

        $(".lvlbtnmin").click(function () {
            oldv = $("#inplevel").val()
            newv = parseInt(oldv) - 1
            newv = newv < 1 ? 1 : newv
            $("#inplevel").val(newv)
            //getDamageWithPassives()
        });

        $(".lvlbtnplus").click(function () {
            oldv = $("#inplevel").val()
            newv = parseInt(oldv) + 1
            newv = newv > 500 ? 500 : newv
            $("#inplevel").val(newv)
            //getDamageWithPassives()
        });

        // talent buuttons

        $("#inptalent").change(function () {
            //getDamageWithPassives()
        })

        $(".talbtnmin").click(function () {
            oldv = $("#inptalent").val()
            newv = parseInt(oldv) - 1
            newv = newv < 1 ? 1 : newv
            $("#inptalent").val(newv)
            tmpmod = ((newv - 5) * 6)
            $("#talmod").html(tmpmod + "%")
            talentMulti = 1 + tmpmod / 100
            //getDamageWithPassives()
        });

        $(".talbtnplus").click(function () {
            oldv = $("#inptalent").val()
            newv = parseInt(oldv) + 1
            newv = newv > 20 ? 20 : newv
            $("#inptalent").val(newv)
            tmpmod = ((newv - 5) * 6)
            $("#talmod").html(tmpmod + "%")
            talentMulti = 1 + tmpmod / 100
            //getDamageWithPassives()
        });



        $(".stobtnmin").click(function () {
            oldv = $("#stoCount").val()
            newv = parseInt(oldv) - 1
            newv = newv < 0 ? 0 : newv
            $("#stoCount").val(newv)
        });

        $(".stobtnplu").click(function () {
            oldv = $("#stoCount").val()
            newv = parseInt(oldv) + 1
            $("#stoCount").val(newv)
        });

        $(".tlbtnmin").click(function () {
            oldv = $("#tlcount").val()
            newv = parseInt(oldv) - 1
            newv = newv < 0 ? 0 : newv
            $("#tlcount").val(newv)
        });

        $(".tlbtnplu").click(function () {
            oldv = $("#tlcount").val()
            newv = parseInt(oldv) + 1
            $("#tlcount").val(newv)
        });

        $(".badgeBut").click(function () {
            switch ($(this).attr("info")) {
                case "test1":
                    if ($("#inputGroupSelect05").val() == "1") {
                        $("#inputGroupSelect05").val("2")
                    } else {
                        $("#inputGroupSelect05").val("1")
                    }

                    break;
                case "test2":

                    if ($("#inputGroupSelect02").val() == "1") {
                        $("#inputGroupSelect02").val("2")
                    } else {
                        $("#inputGroupSelect02").val("1")
                    }

                    break;
                case "test3":
                    if ($("#inputGroupSelect03").val() == "1") {
                        $("#inputGroupSelect03").val("2")
                    } else {
                        $("#inputGroupSelect03").val("1")
                    }
                    break;
                case "test4":
                    if (maxOpenPass == 1) {
                        maxOpenPass = 2
                    } else {
                        maxOpenPass = 1
                    }
                    break;
                case "test5": break;
                case "test6": break;
                case "test7":
                    turnOffAllTimeEventHighlights($(this))
                    if (timeEventMod == 2) {
                        timeEventMod = 1
                        $(this).find(".clh").toggle()
                    } else {
                        timeEventMod = 2
                    }
                    break;
                case "test8":
                    turnOffAllTimeEventHighlights($(this))
                    if (timeEventMod == 3) {
                        timeEventMod = 1
                        $(this).find(".clh").toggle()
                    } else {
                        timeEventMod = 3
                    }
                    break;
                case "test9":
                    turnOffAllTimeEventHighlights($(this))
                    if (timeEventMod == 4) {
                        timeEventMod = 1
                        $(this).find(".clh").toggle()
                    } else {
                        timeEventMod = 4
                    }
                    break;
                case "test10":
                    turnOffAllTimeEventHighlights($(this))
                    if (timeEventMod == 5) {
                        timeEventMod = 1
                        $(this).find(".clh").toggle()
                    } else {
                        timeEventMod = 5
                    }
                    break;
            }



            $(this).find(".clh").toggle()
        });

        function turnOffAllFighterSelectHighlights(object) {
            badgebar = object.closest(".fighterbar")
            badgebar.find(".worldsel").toggle(false)
        }

        function turnOffAllPass1SelectHighlights(object) {
            badgebar = object.closest(".pass1bar")
            badgebar.find(".worldsel").toggle(false)
        }

        function turnOffAllPass2SelectHighlights(object) {
            badgebar = object.closest(".pass2bar")
            badgebar.find(".worldsel").toggle(false)
        }

        function turnOffAllTimeEventHighlights(object) {
            badgebar = object.closest(".badgebar")
            badgebar.find(".timeMod").toggle(false)
        }

        // initial tooltips
        $('document').ready(function () {
            $('[data-toggle=tooltip]').tooltip();
        });


    </script>
</body>

</html>