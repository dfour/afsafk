<!DOCTYPE html>
<html>

<head>
    <link rel="stylesheet" href="css/bootstrap.css">
    <script src="js/jquery-3.6.0.min.js"></script>
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.js"></script>
    <script src="js/afsutils.js"></script>

    <style>
        img {
            /** /
            opacity: 0.03;
            /* hide all images for testing */
        }

        .my-custom-scrollbar {
            position: relative;
            height: 600px;
            overflow: auto;
        }

        .table-wrapper-scroll-y {
            display: block;
        }

        .img-txt-container {
            position: relative;
            text-align: center;
            color: white;
            display: inline-block;
        }

        .img-txt-centered {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            font-weight: bolder;
            color: rgb(0, 0, 0);
            text-shadow: -1px 0 rgb(255, 255, 255), 0 1px rgb(255, 255, 255), 1px 0 rgb(255, 255, 255), 0 -1px rgb(255, 253, 253);
        }

        body {
            color: #dff3ff;
            background-color: #525252;
        }

        .fgtimg {
            width: 85px;
        }

        .fgtimghl {
            width: 85px;
        }

        /* Passive image and highlights*/
        .passimg {
            width: 50px;
        }

        .passhl {
            width: 50px;
        }


        /* width */
        ::-webkit-scrollbar {
            width: 10px;
        }

        /* Track */
        ::-webkit-scrollbar-track {
            background: #424242;
        }

        /* Handle */
        ::-webkit-scrollbar-thumb {
            background: #dff3ff;
        }

        /* Handle on hover */
        ::-webkit-scrollbar-thumb:hover {
            background: #f4fbff;
        }
    </style>
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-79653090-2"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());

        gtag('config', 'UA-79653090-2');
    </script>

</head>

<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <a class="navbar-brand" href="#">AFS Utils</a>
        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>

        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav mr-auto">
                <li class="nav-item">
                    <a class="nav-link" href="index.html">AFK Calc</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="indev.html">AFK indev</a>
                </li>
                <li class="nav-item active">
                    <a class="nav-link " href="afsdmg.html">Damage Calc</a>
                </li>
            </ul>
        </div>
    </nav>

    <div class="container-fluid" style="margin-top: 25px;">
        <div class="row justify-content-md-center">
            <img src="images/afs-logo.png" width="300px"> <img src="images/acc-dmg-logo.png"
                style=" width:100%; max-width: 926px;">
            &nbsp;&nbsp;&nbsp;&nbsp; by
            d_four
        </div>
        <hr>
        <div class="row justify-content-center">
            <div class="col-sm-12 col-md-6 col-lg-3">
                <!-- Input area-->
                <div id="autoarea">
                    <div class="card" style="min-height:175px">
                        <div class="card-body">
                            <h5 class="card-title">Select Unit</h5>
                            <button class="btn btn-info btn-sm toggleManual"
                                style="position:absolute; top:20px; right:20px;">Options & Talents</button>
                            <p class="card-text"><small> *If your fighter is not shown you can set the base damage in
                                    the options section</small></p>
                            <div class="text-center">
                                <h5 id="spyfighter">Name</h5>
                            </div>
                            <div class="row justify-content-md-center costspy">
                                <div class="col-6">Base Damage: <span id="spyfdmg">---</span></div>
                                <div class="col-6">Shiny Damage: <span id="spyfsdmg">---</span></div>
                            </div>
                        </div>
                    </div>

                    <div style="height: 10px;">&nbsp;</div>
                    <div>
                        <div class="text-center fighterbar">
                            <!-- Dai-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="950" data-dmg="950" data-dmgs="1600" data-fighter="Daireb">
                                <img class="fgtimg" src="images/dai.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- gyomei-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="950" data-dmg="950" data-dmgs="1600" data-fighter="Sensative Slayer">
                                <img class="fgtimg" src="images/senslay.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- kaido -->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="820" data-dmg="820" data-dmgs="1400" data-fighter="Dragon-King">
                                <img class="fgtimg" src="images/kaido.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- gilly-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="700" data-dmg="700" data-dmgs="1200" data-fighter="True Golden King">
                                <img class="fgtimg" src="images/gilly.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- endev-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="600" data-dmg="600" data-dmgs="1000" data-fighter="Flaming Hero">
                                <img class="fgtimg" src="images/end.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- padoru -->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="530" data-dmg="530" data-dmgs="930" data-fighter="Holiday Baby">
                                <img class="fgtimg" src="images/pad.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- redbat -->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="520" data-dmg="520" data-dmgs="900" data-fighter="Red Bat">
                                <img class="fgtimg" src="images/fem.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- mew2-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="440" data-dmg="440" data-dmgs="770" data-fighter="Engineered Alien">
                                <img class="fgtimg" src="images/mew2.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- pucci-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="340" data-dmg="340" data-dmgs="600" data-fighter="Hernando">
                                <img class="fgtimg" src="images/herny.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- madara-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="260" data-dmg="260" data-dmgs="460" data-fighter="Great Ninja">
                                <img class="fgtimg" src="images/mad.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- vegito -->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="1" data-dmg="200" data-dmgs="360" data-fighter="Vegtable -(need data)">
                                <img class="fgtimg" src="images/vegan.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- /////////////////////////////////  SECRETS  ///////////////////////////////////-->
                            <!-- Skele-king-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="542" data-dmg="540" data-dmgs="940" data-fighter="Skele-King">
                                <img class="fgtimg" src="images/skele.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- father kill-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="510" data-dmg="510" data-dmgs="900" data-fighter="Father Killer">
                                <img class="fgtimg" src="images/fatkill.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- yuka shadow-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="510" data-dmg="490" data-dmgs="860" data-fighter="Yuka (Shadow)">
                                <img class="fgtimg" src="images/yukas.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <!-- Jimmy-->
                            <div class="img-txt-container imgFighter" data-toggle="tooltip" data-placement="top"
                                title="460" data-dmg="460" data-dmgs="810" data-fighter="Jimmy">
                                <img class="fgtimg" src="images/jimmy.png">
                                <img class="clh worldsel fgtimghl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>


                        </div>
                    </div>
                </div>
                <div id="manualarea" style="display: none;">
                    <div class="card" style="min-height:175px">
                        <div class="card-body">
                            <h5 class="card-title">Manual Values</h5>
                            <button class="btn btn-info btn-sm toggleAuto"
                                style="position:absolute; top:20px; right:20px;">View Units</button>
                            <p class="card-text">Set the values manually for fighters not shown</p>
                        </div>
                    </div>
                    <div style="height: 10px;">&nbsp;</div>
                    <div>
                        <div class="input-group  mb-3" data-toggle="tooltip" data-placement="top"
                            title="The non shiny damage for the unit">
                            <div class="input-group-prepend">
                                <span class="input-group-text bg-info text-white" style="width: 175px;">Unit Base
                                    Damage</span>
                            </div>
                            <button class="btn btn-outline-info dmgbtnmin" type="button">&minus;</button>
                            <input type="text" class="form-control" id="inpdmg" value="590">
                            <button class="btn btn-outline-info dmgbtnplus" type="button">&plus;</button>
                        </div>
                        <!-- Shiney or no-->
                        <div data-toggle="tooltip" data-placement="top" title="Shiny or not" class="input-group  mb-3">
                            <button class="btn btn-outline-info" type="button"
                                onclick="$('#shinystate').val('Normal');//getDMG()">Normal</button>
                            <input type="text" class="form-control" id="shinystate" value="Shiny">
                            <button class="btn btn-outline-info" type="button"
                                onclick="$('#shinystate').val('Shiny');//getDMG()">Shiny</button>
                        </div>

                        <!-- Level -->
                        <div class="input-group  mb-3" data-toggle="tooltip" data-placement="top"
                            title="The level you want to check the value for.">
                            <div class="input-group-prepend">
                                <span class="input-group-text  bg-info text-white" style="width: 175px;">Level</span>
                            </div>
                            <button class="btn btn-outline-info lvlbtnmin" type="button">&minus;</button>
                            <input type="text" class="form-control" id="inplevel" value="325">
                            <button class="btn btn-outline-info lvlbtnplus" type="button">&plus;</button>
                        </div>

                        <!-- Base Damage Talent-->
                        <div class="input-group  mb-3" data-toggle="tooltip" data-placement="top"
                            title="Base Damage Talent. Limitless cap 20, non limitless cap 10!">
                            <div class="input-group-prepend">
                                <span class="input-group-text  bg-info text-white" style="width: 175px;">Damage</span>
                            </div>
                            <button class="btn btn-outline-info dmgtalbtnmin" type="button">&minus;</button>
                            <input type="text" class="form-control" id="inpdmgtalent" value="20">
                            <div class="input-group-append">
                                <span class="input-group-text" id="dmgtalmod">90%</span>
                            </div>
                            <button class="btn btn-outline-info dmgtalbtnplus" type="button">&plus;</button>
                        </div>

                        <!-- Base Ult Damage --/>
                    <div class="input-group  mb-3" data-toggle="tooltip" data-placement="top"
                        title="Ultimate Damage Talent. Limitless cap 20, non limitless cap 10!">
                        <div class="input-group-prepend">
                            <span class="input-group-text  bg-info text-white" style="width: 175px;">Ult Dmg</span>
                        </div>
                        <button class="btn btn-outline-info ulttalbtnmin" type="button">&minus;</button>
                        <input type="text" class="form-control" id="inpulttalent" value="20">
                        <div class="input-group-append">
                            <span class="input-group-text" id="ulttalmod">90%</span>
                        </div>
                        <button class="btn btn-outline-info ulttalbtnplus" type="button">&plus;</button>
                    </div>
                    <!-- Base Attack Speed -->
                        <div class="input-group  mb-3" data-toggle="tooltip" data-placement="top"
                            title="Attack Speed Talent. Limitless cap 20, non limitless cap 10!">
                            <div class="input-group-prepend">
                                <span class="input-group-text  bg-info text-white" style="width: 175px;">Attack
                                    Speed</span>
                            </div>
                            <button class="btn btn-outline-info spdtalbtnmin" type="button">&minus;</button>
                            <input type="text" class="form-control" id="inpspdtalent" value="20">
                            <div class="input-group-append">
                                <span class="input-group-text" id="spdtalmod">90%</span>
                            </div>
                            <button class="btn btn-outline-info spdtalbtnplus" type="button">&plus;</button>
                        </div>

                    </div>
                </div>
            </div>

            <div class="col-sm-12 col-md-6 col-lg-3">
                <!-- Passive Area -->
                <div class="card" style="min-height:175px">
                    <div class="card-body">
                        <h5 class="card-title">Passives</h5>
                        <div class="text-center">
                            <div class="row justify-content-md-center costspy">
                                <div class="col-6">
                                    <div><span id="spypass1">Passive 1</span></div>
                                    <div><small>Dmg : <span id="spypassdmg1">---</span></small></div>
                                    <div><small>Boss Dmg: <span id="spypassdmgs1">---</span></small></div>
                                    <div><small>Speed: <span id="spypassspd1">---</span></small></div>
                                </div>
                                <div class="col-6">
                                    <div><span id="spypass2">Passive 2</span></div>
                                    <div><small>Dmg: <span id="spypassdmg2">---</span></small></div>
                                    <div><small>Boss Dmg: <span id="spypassdmgs2">---</span></small></div>
                                    <div><small>Speed: <span id="spypassspd2">---</span></small></div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div style="height: 10px;">&nbsp;</div>
                <div class="row">
                    <div class="col-6">
                        <div class="text-center pass1bar">
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="No Passive" data-dmg="1" data-dmgs="1" data-spd="1" data-passname="No Passive"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/nopass.png">
                                <img class="clh worldsel passhl" style="position:absolute;left: 0;top: 0;"
                                    src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Monster" data-dmg="2.8" data-dmgs="2.8" data-spd="1.5" data-passname="Monster"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/monster.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="God" data-dmg="2" data-dmgs="2" data-spd="2" data-passname="God"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/god.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Time Lord" data-dmg="1.25" data-dmgs="1.25" data-spd="3"
                                data-passname="Time Lord" style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/nopass.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Blessing" data-dmg="1.75" data-dmgs="1.75" data-spd="1" data-passname="Blessing"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/bless.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>

                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Ghostly" data-dmg="1.5" data-dmgs="1.5" data-spd="1.5" data-passname="Ghostly"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/ghost.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Solid Gold" data-dmg="1.75" data-dmgs="1.75" data-spd="0.8"
                                data-passname="Solid Gold" style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/solid.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Sorcerer 3" data-dmg="1.2" data-dmgs="1.2" data-spd="1"
                                data-passname="Sorcerer 3" style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/hp3.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Giant" data-dmg="1.65" data-dmgs="1.65" data-spd="1" data-passname="Giant"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/giant.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Tank" data-dmg="1.65" data-dmgs="1.65" data-spd="1" data-passname="Tank"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/tank.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Tactical 3" data-dmg="1" data-dmgs="2" data-spd="1" data-passname="Tactical 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/tac3.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Tiny" data-dmg="1.2" data-dmgs="1.2" data-spd="1.5" data-passname="Tiny"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/tiny.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Tactical 2" data-dmg="1" data-dmgs="1.5" data-spd="1" data-passname="Tactical 2"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/tac2.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Strong 3" data-dmg="1.5" data-dmgs="1.5" data-spd="1" data-passname="Strong 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/strong3.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass1" data-toggle="tooltip" data-placement="top"
                                title="Strong 2" data-dmg="1.25" data-dmgs="1.25" data-spd="1" data-passname="Strong 2"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/strong2.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                        </div>
                    </div>
                    <div class="col-6">
                        <div class="text-center pass2bar">
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="No Passive" data-dmg="1" data-dmgs="1" data-spd="1" data-passname="No Passive"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/nopass.png">
                                <img class="clh worldsel passhl" style="position:absolute;left: 0;top: 0;"
                                    src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Monster" data-dmg="2.8" data-dmgs="2.8" data-spd="1.5" data-passname="Monster"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/monster.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="God" data-dmg="2" data-dmgs="2" data-spd="2" data-passname="God"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/god.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Time Lord" data-dmg="1.25" data-dmgs="1.25" data-spd="3"
                                data-passname="Time Lord" style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/nopass.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Blessing" data-dmg="1.75" data-dmgs="1.75" data-spd="1" data-passname="Blessing"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/bless.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>

                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Ghostly" data-dmg="1.5" data-dmgs="1.5" data-spd="1.5" data-passname="Ghostly"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/ghost.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Solid Gold" data-dmg="1.75" data-dmgs="1.75" data-spd="0.8"
                                data-passname="Solid Gold" style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/solid.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Sorcerer 3" data-dmg="1.2" data-dmgs="1.2" data-spd="1"
                                data-passname="Sorcerer 3" style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/hp3.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Giant" data-dmg="1.65" data-dmgs="1.65" data-spd="1" data-passname="Giant"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/giant.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Tank" data-dmg="1.65" data-dmgs="1.65" data-spd="1" data-passname="Tank"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/tank.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Tactical 3" data-dmg="1" data-dmgs="2" data-spd="1" data-passname="Tactical 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/tac3.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Tiny" data-dmg="1.2" data-dmgs="1.2" data-spd="1.5" data-passname="Tiny"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/tiny.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Tactical 2" data-dmg="1" data-dmgs="1.5" data-spd="1" data-passname="Tactical 2"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/tac2.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Strong 3" data-dmg="1.5" data-dmgs="1.5" data-spd="1" data-passname="Strong 3"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/strong3.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                            <div class="img-txt-container imgselpass2" data-toggle="tooltip" data-placement="top"
                                title="Strong 2" data-dmg="1.25" data-dmgs="1.25" data-spd="1" data-passname="Strong 2"
                                style="margin-bottom: 5px;">
                                <img class="rounded passimg" src="images/strong2.png">
                                <img class="clh worldsel passhl"
                                    style="position:absolute;left: 0;top: 0; display: none;" src="images/greensqur.png">
                            </div>
                        </div>
                    </div>
                </div>
            </div>


            <div class="col-sm-12 col-md-4 col-lg-2">
                <!-- Result Area -->
                <div id="singleResults">
                    <div class="card" style="min-height:175px">
                        <div class="card-body">
                            <h5 class="card-title">Results</h5>
                            <p class="card-text">Single Unit Results</p>
                        </div>
                    </div>
                    <div style="height: 10px;">&nbsp;</div>
                    <div>
                        <table class="table">
                            <tr>
                                <th>Results</th>
                                <td><button class="btn btn-info btn-sm" id="addToTeam">Add to Team</button></td>
                            </tr>
                            <tr style="display: none;">
                                <th>Unit Name</th>
                                <td id="tbuname">Custom</td>
                            </tr>
                            <tr style="display: none;">
                                <th>Passive 1</th>
                                <td id="tbpass1">None</td>
                            </tr>
                            <tr style="display: none;">
                                <th>Passive 2</th>
                                <td id="tbpass2">None</td>
                            </tr>
                            <tr>
                                <th>Damage vs Normal</th>
                                <td id="tbdmg">0</td>
                            </tr>
                            <tr>
                                <th>Damage Vs Boss</th>
                                <td id="tbdmgs">0</td>
                            </tr>
                            <tr>
                                <th>Damage Per Minute</th>
                                <td id="tbdmgpm">0</td>
                            </tr>
                            <tr>
                                <th>Boss Damage Per Minute</th>
                                <td id="tbdmgpmb">0</td>
                            </tr>
                        </table>

                    </div>
                </div>
            </div>
            <div class="col-sm-12 col-md-8 col-lg-4">
                <div id="multiResults">
                    <div class="card" style="min-height:175px">
                        <div class="card-body">
                            <h5 class="card-title">Team Results</h5>
                            <p class="card-text">View Results</p>
                        </div>
                    </div>
                    <div style="height: 10px;">&nbsp;</div>
                    <div id="teamResTable">
                        <table class="table">
                            <tbody>
                                <tr>
                                    <th>Unit</th>
                                    <th>P1</th>
                                    <th>P2</th>
                                    <th>DMG</th>
                                    <th>BDMG</th>
                                    <th>DPM</th>
                                    <th>BDPM</th>
                                </tr>
                                <tr>
                                    <td colspan="3" align="right">Total</td>
                                    <td>0 </td>
                                    <td>0 </td>
                                    <td>0 </td>
                                    <td>0 </td>
                                </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>

        </div>
        <div class="row">
            <!-- Bot Bar -->
            Values shown are just estimates as damage shown in AFS is a rounded value.
        </div>
        <div class="row">
            <span class="small">Version 0.1 (Beta) - Updated 15.06.2022 </span>
        </div>
        <div class="row">
            <a href="https://github.com/dfour/afsafk">Source Code</a>
        </div>
        <div class="row">
            <div class="col-1">&nbsp;</div>
        </div>
        <div class="row">
            &there4; &nbsp; &sup;_&fnof;&deg;&micro;&and;
        </div>
    </div>

    <script>
        /** 
        * v0.1
        * initial testing, style etc
        * To add:
        * Ace (2.4x), draconic(1.5xd 0.8xspd), tac1, leader1+2+3(partydmg+) 
        * sorc 1+2+3 (1,1.1X, 1.2x)
        * speedy (1.3xspd)
        * yeti(2xdmg,0.7xspd)
        * blizz(1.5dmg,2xspd)
        * gen(1.2xdmg)
        * xmastac(1.65xdmgs)
        **/
        // Control and calculate results here

        // Vars
        bdm = 1.9;  // Base Damage Multiplier default value of att dmg talent
        bsm = 1     // Base Speed Multiplierdefault value of att spd talent
        team = []   // store th eteam info for full party dmg

        // respond to Clicks anywhere in the body
        $("body").click(function (e) {
            getDMG()
        });

        function getDMG() {
            reslvl = $("#inplevel").val()
            isShiny = $("#shinystate").val() == "Shiny"
            dmg = getDmgForLevel(clickedDmg, reslvl, isShiny)

            dmg = dmg * bdm // max stats (not done here)

            p1dmg = (dmg * cp1d) - dmg
            p2dmg = (dmg * cp2d) - dmg
            td = dmg + p1dmg + p2dmg

            dws = td * attacksPerMin * bsm

            $("#tbdmg").html(ctf(td))
            $("#tbdmgpm").html(ctf(dws))

            $("#resultArea").html(ctf(td) + " vs All. DMG/min " + ctf(dws))

            p1bdmg = (dmg * cp1ds) - dmg
            p2bdmg = (dmg * cp2ds) - dmg
            tbd = dmg + p1bdmg + p2bdmg

            dwsb = tbd * attacksPerMin * bsm

            $("#tbdmgs").html(ctf(tbd))
            $("#tbdmgpmb").html(ctf(dwsb))

            $("#resultArea2").html(ctf(tbd) + " vs Boss")

            $("#tbuname").html(cf)
            $("#tbpass1").html(cp1)
            $("#tbpass2").html(cp2)
        }


        /////////////////////////// Fighter stuff /////////////////////
        cf = "Select Unit"
        cis = "images/nopass.png"
        clickedDmg = "0"
        clickedDmgs = "0"

        $(".imgFighter").hover(function () {
            fighter = $(this).data("fighter")
            dmg = $(this).data("dmg")
            dmgs = $(this).data("dmgs")
            $("#spyfighter").html(fighter)
            $("#spyfdmg").html(dmg)
            $("#spyfsdmg").html(dmgs)
        });

        $(".imgFighter").mouseleave(function () {
            $("#spyfighter").html(cf)
            $("#spyfdmg").html(clickedDmg)
            $("#spyfsdmg").html(clickedDmgs)
        });

        $(".imgFighter").click(function () {
            toafsh($(this))
            cf = $(this).data("fighter")
            cis = $(this).find(".fgtimg").attr("src")
            clickedDmg = $(this).data("dmg")
            clickedDmgs = $(this).data("dmgs")
            $("#inpdmg").val(clickedDmg)
            $(this).find(".clh").toggle()
        });

        //////////////////// Passive stuff ////////////////////////////

        cp1 = "No Passive"
        cp1i = "images/nopass.png"
        cp1d = "1"
        cp1ds = "1"
        cp1s = "1"

        cp2 = "No Passive"
        cp2i = "images/nopass.png"
        cp2d = "1"
        cp2ds = "1"
        cp2s = "1"

        // passive 1
        $(".imgselpass1").hover(function () {
            p1name = $(this).data("passname")
            p1dmg = $(this).data("dmg")
            p1dmgs = $(this).data("dmgs")
            p1spd = $(this).data("spd")
            $("#spypass1").html(p1name)
            $("#spypassdmg1").html(p1dmg + "x")
            $("#spypassdmgs1").html(p1dmgs + "x")
            $("#spypassspd1").html(p1spd + "x")
        });

        $(".imgselpass1").mouseleave(function () {
            $("#spypass1").html(cp1)
            $("#spypassdmg1").html(cp1d)
            $("#spypassdmgs1").html(cp1ds)
            $("#spypassdmgs1").html(cp1s)
        });

        $(".imgselpass1").click(function () {
            toap1h($(this))
            cp1 = $(this).data("passname")
            cp1i = $(this).find(".passimg").attr("src")
            cp1d = $(this).data("dmg")
            cp1ds = $(this).data("dmgs")
            cp1s = $(this).data("spd")
            $(this).find(".clh").toggle()
        });

        // passive 2
        $(".imgselpass2").hover(function () {
            p2name = $(this).data("passname")
            p2dmg = $(this).data("dmg")
            p2dmgs = $(this).data("dmgs")
            p2spd = $(this).data("spd")
            $("#spypass2").html(p2name)
            $("#spypassdmg2").html(p2dmg + "x")
            $("#spypassdmgs2").html(p2dmgs + "x")
            $("#spypassspd2").html(p2spd + "x")
        });

        $(".imgselpass2").mouseleave(function () {
            $("#spypass2").html(cp2)
            $("#spypassdmg2").html(cp2d)
            $("#spypassdmgs2").html(cp2ds)
        });

        $(".imgselpass2").click(function () {
            toap2h($(this))
            cp2 = $(this).data("passname")
            cp2i = $(this).find(".passimg").attr("src")
            cp2d = $(this).data("dmg")
            cp2ds = $(this).data("dmgs")
            cp2s = $(this).data("spd")
            $(this).find(".clh").toggle()
            //getDMG()
        });


        //////////////////// toggle select process /////////////////////
        $(".toggleManual").click(function () {
            $("#autoarea").toggle(false)
            $("#manualarea").toggle(true)
        });

        $(".toggleAuto").click(function () {
            $("#autoarea").toggle(true)
            $("#manualarea").toggle(false)
        });

        ////////////////// toggle singlu multi unit results ///////////
        $(".toggleSingle").click(function () {
            $("#multiResults").toggle(false)
            $("#singleResults").toggle(true)
        });

        $(".toggleMulti").click(function () {
            $("#multiResults").toggle(true)
            $("#singleResults").toggle(false)
        });



        ///////////////// Team functions /////////////////////////////
        $("#addToTeam").click(function () {
            //create unitdets
            nv = [
                team['length'],
                $("#tbuname").html(),
                $("#tbpass1").html(),
                $("#tbpass2").html(),
                $("#tbdmg").html(),
                $("#tbdmgs").html(),
                $("#tbdmgpm").html(),
                $("#tbdmgpmb").html(),
                cis,
                cp1i,
                cp2i
            ]

            // store unit dets
            team[team['length']] = nv

            $("#teamResTable").html(makeTeamTable())
        });

        function makeTeamTable() {
            ts = "<table class='table'>"
            ts += "<tr><th><span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Selected Unit'>Unit</span></th>"
            ts += "<th><span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Passive 1'>P1</span></th>"
            ts += "<th><span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Passive 2'>P2</span></th>"
            ts += "<th><span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Damage Per Hit'>DMG</span></th>"
            ts += "<th><span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Boss Damage Per Hit'>BDMG</span></th>"
            ts += "<th><span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Estimated Damage per Minute'>DPM</span></th>"
            ts += "<th><span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Estimated Boss Damage per Minute'>BDPM</span></th></tr>"
            totdmg = totbdmg = totdpm = totbdpm = 0
            team.forEach((el, i) => {
                ts += "<tr><td class='ptr' data-id='" + i + "'> &#x2612; <img src='" + el[8] + "' width='40px' alt='" + el[1] + "'>" +
                    "</td><td><img src='" + el[9] + "' width='40px' alt='" + el[2] + "'>" +
                    "</td><td><img src='" + el[10] + "' width='40px' alt='" + el[3] + "'>" +
                    "</td><td>" + el[4] +
                    "</td><td>" + el[5] +
                    "</td><td>" + el[6] +
                    "</td><td>" + el[7] +
                    "</td></tr>"
                totdmg += qfv(el[4])
                totbdmg += qfv(el[5])
                totdpm += qfv(el[6])
                totbdpm += qfv(el[7])
            });
            ts += "<tr><td colspan='3' align='right'><span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Damage Total for all units'>Total</span></td><td>" +
                "<span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Party damage'>" + ctf(totdmg) + "</span></td><td>" +
                "<span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Party damage to bosses'>" + ctf(totbdmg) + "</span></td><td>" +
                "<span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Party damage per minute'>" + ctf(totdpm) + "</span></td><td>" +
                "<span class='dynotooltip' data-toggle='tooltip' data-placement='top' title='Party damage per minutes to bosses'>" + ctf(totbdpm) + "</span></td></tr>"
            return ts
        }

        // has to be on delegate for dynamic gen html
        $(document).on("click", ".ptr", function () {
            rmedItem = team.splice($(this).data("id"), 1)
            console.log("Removing item " + rmedItem)
            $("#teamResTable").html(makeTeamTable())
        });

        ////////////////////// level buttons/////////////////////////
        $(".lvlbtnmin").click(function () {
            oldv = $("#inplevel").val()
            newv = parseInt(oldv) - 1
            newv = newv < 1 ? 1 : newv
            $("#inplevel").val(newv)
            //getDMG()
        });

        $(".lvlbtnplus").click(function () {
            oldv = $("#inplevel").val()
            newv = parseInt(oldv) + 1
            newv = newv > 500 ? 500 : newv
            $("#inplevel").val(newv)
            //getDMG()
        });

        ///////////////// DMG talent buttons////////////////////////
        $(".dmgtalbtnmin").click(function () {
            oldv = $("#inpdmgtalent").val()
            newv = parseInt(oldv) - 1
            newv = newv < 1 ? 1 : newv
            $("#inpdmgtalent").val(newv)
            $("#dmgtalmod").html(dmgTalToPer(newv))
            bdm = dmgTalToMod(newv)
            //getDMG()
        });

        $(".dmgtalbtnplus").click(function () {
            oldv = $("#inpdmgtalent").val()
            newv = parseInt(oldv) + 1
            newv = newv > 20 ? 20 : newv
            $("#inpdmgtalent").val(newv)
            $("#dmgtalmod").html(dmgTalToPer(newv))
            bdm = dmgTalToMod(newv)
            //getDMG()
        });


        //////////////// SPD talent buttons //////////////////////
        $(".spdtalbtnmin").click(function () {
            oldv = $("#inpspdtalent").val()
            newv = parseInt(oldv) - 1
            newv = newv < 1 ? 1 : newv
            $("#inpspdtalent").val(newv)
            $("#spdtalmod").html(dmgTalToPer(newv))
            bsm = dmgTalToMod(newv)
            //getDMG()
        });

        $(".spdtalbtnplus").click(function () {
            oldv = $("#inpspdtalent").val()
            newv = parseInt(oldv) + 1
            newv = newv > 20 ? 20 : newv
            $("#inpspdtalent").val(newv)
            $("#spdtalmod").html(dmgTalToPer(newv))
            bsm = dmgTalToMod(newv)
            //getDMG()
        });
        ////////// unit base damage input //////////////

        $(".dmgbtnmin").click(function () {
            oldv = $("#inpdmg").val()
            newv = parseInt(oldv) - 1
            newv = newv < 0 ? 0 : newv
            clickedDmg = forceNumber(newv)
            $("#inpdmg").val(newv)
        });

        $(".dmgbtnplus").click(function () {
            oldv = $("#inpdmg").val()
            newv = parseInt(oldv) + 1
            clickedDmg = forceNumber(newv)
            $("#inpdmg").val(newv)
        });

        $("#inpdmg").keyup(function () {
            clickedDmg = forceNumber($("#inpdmg").val())
            getDMG()
        });

        // highlight controls /////////////////////////////////////
        function toafsh(object) {
            bb = object.closest(".fighterbar")
            bb.find(".worldsel").toggle(false)
        }

        function toap1h(object) {
            bb = object.closest(".pass1bar")
            bb.find(".worldsel").toggle(false)
        }

        function toap2h(object) {
            bb = object.closest(".pass2bar")
            bb.find(".worldsel").toggle(false)
        }

        // dynamic tooltip fix
        $('body').tooltip({
            selector: '.dynotooltip'
        });

        // initial tooltips
        $('document').ready(function () {
            $('[data-toggle=tooltip]').tooltip();
        });

    </script>
</body>

</html>